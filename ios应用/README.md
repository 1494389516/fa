# 运动记录

一个功能完整的iOS运动记录应用，支持手动记录、数据导入、统计分析等功能。

## 📱 功能特性

### ✨ 核心功能
- **手动记录**：支持添加跑步、步行、骑行、游泳等多种运动类型
- **数据导入**：
  - 从苹果健康（HealthKit）导入跑步和步行记录
  - 从Keep应用导入运动数据（JSON格式）
- **数据管理**：查看、编辑、删除运动记录

### 📊 统计分析
- **统计图表**：
  - 距离趋势图（柱状图）
  - 时长趋势图（折线图）
  - 支持本周、本月、本年、全部时间范围筛选
- **个人最佳记录**（PB）：
  - 最长距离
  - 最长时长
  - 最快配速（跑步）
- **数据统计卡片**：总距离、总时长、总卡路里、运动次数

### 🎯 目标管理
- **每日目标**：设置每日距离和时长目标，实时追踪完成进度
- **每周目标**：设置每周距离和时长目标
- **成就系统**：完成目标后显示成就徽章

### 🔍 搜索筛选
- **搜索功能**：按运动类型和备注搜索记录
- **类型筛选**：快速筛选跑步、步行、骑行、游泳等运动类型

### 📤 数据导出
- **CSV导出**：导出所有运动数据为CSV格式
- **数据字段**：日期、类型、距离、时长、配速、卡路里、数据来源、备注
- **分享功能**：通过系统分享菜单导出到其他应用

## 🛠 技术栈

- **语言**：Swift 5.0+
- **框架**：
  - SwiftUI - 用户界面
  - SwiftData - 数据持久化
  - HealthKit - 健康数据集成
  - Charts - 数据可视化（iOS 16+）
- **最低支持**：iOS 16.0+

## 📋 项目结构

```
qq/
├── qq/
│   ├── Models/
│   │   └── WorkoutRecord.swift      # 运动记录数据模型
│   ├── Services/
│   │   └── HealthKitManager.swift   # HealthKit集成管理
│   ├── Views/
│   │   ├── ContentView.swift        # 主视图（TabView）
│   │   ├── WorkoutListView.swift    # 运动记录列表
│   │   ├── AddWorkoutView.swift     # 添加运动记录
│   │   ├── ImportView.swift         # 数据导入界面
│   │   ├── StatisticsView.swift     # 统计分析页面
│   │   ├── GoalsView.swift          # 目标设置页面
│   │   └── ExportView.swift         # 数据导出页面
│   └── qqApp.swift                  # 应用入口
└── qq.xcodeproj/                    # Xcode项目文件
```

## 🚀 快速开始

### 环境要求
- Xcode 15.0+
- iOS 16.0+ 设备或模拟器
- Apple Developer账号（用于HealthKit功能）

### 安装步骤

1. **克隆项目**
```bash
git clone https://github.com/yourusername/运动记录.git
cd 运动记录
```

2. **打开项目**
```bash
open qq/qq.xcodeproj
```

3. **配置项目**
   - 在Xcode中打开项目
   - 修改Bundle Identifier（如果需要）
   - 确保Signing & Capabilities中已配置HealthKit权限

4. **运行应用**
   - 选择目标设备（真机或模拟器）
   - 点击运行按钮或按 `Cmd + R`

## 🔐 权限说明

应用需要以下权限：

- **HealthKit读取权限**：用于从苹果健康导入运动数据
  - 已在Info.plist中配置权限说明
  - 首次使用时需要用户授权

## 📖 使用指南

### 添加运动记录
1. 打开应用，点击"记录"标签页
2. 点击左上角的"+"按钮
3. 填写运动信息：
   - 选择运动类型
   - 输入距离（支持公里/米）
   - 输入时长（小时:分钟:秒）
   - 可选：卡路里、日期、备注
4. 点击"保存"

### 导入数据
1. 点击右上角的导入按钮
2. 选择数据来源：
   - **苹果健康**：一键导入最近30天的跑步和步行记录
   - **Keep**：选择Keep导出的JSON文件导入

### 查看统计
1. 切换到"统计"标签页
2. 选择时间范围（本周/本月/本年/全部）
3. 查看图表和个人最佳记录

### 设置目标
1. 切换到"目标"标签页
2. 使用滑块设置每日/每周目标
3. 实时查看完成进度

### 导出数据
1. 切换到"导出"标签页
2. 点击"导出为CSV文件"
3. 通过分享菜单保存或发送文件

## 🤝 贡献

欢迎提交Issue和Pull Request！

## 📄 许可证

本项目采用MIT许可证。详见LICENSE文件。

## 🙏 致谢

- SwiftUI和SwiftData框架
- HealthKit API
- iOS Charts框架

## 📝 更新日志

### v1.0.0 (2025-11-01)
- ✨ 初始版本发布
- ✅ 支持手动记录运动
- ✅ 支持从HealthKit和Keep导入数据
- ✅ 统计图表和分析功能
- ✅ 目标设置和追踪
- ✅ 数据导出功能

---

**注意**：HealthKit功能需要在真机上测试，模拟器可能无法正常工作。

